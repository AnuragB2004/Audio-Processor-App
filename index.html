<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Processor</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
</head>
<body class="bg-dark">
<!-- App Title -->
<div class="container my-4 text-center text-white">
    <h1 class="app-title">Audio Processor App</h1>
</div>
<!-- Screen 1 -->
<div id="input-screen" class="container my-4 text-white">
    <div class="row justify-content-center align-items-center" style="height: 60vh;">
        <div class="col-md-5 mx-4 section-box bg-grey">
            <h2>Upload Audio</h2>
            <label for="upload-audio" class="btn btn-warning btn-lg btn-block">Upload Audio File</label>
            <input id="upload-audio" type="file" accept=".mp3, .wav" hidden>
            <div id="loading-spinner" class="spinner-border text-warning mt-3" role="status" style="display: none;">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <div class="col-md-5 mx-4 section-box bg-grey">
            <h2>Record Audio</h2>
            <button id="start-recording" class="btn btn-warning btn-lg btn-block">Start Recording</button> <!-- ID fixed here -->
            <div id="mic-icon" class="mt-3" style="display: none;">
                <i class="fas fa-microphone fa-3x text-warning"></i>
            </div>
        </div>
    </div>
</div>
<!-- Screen 2 -->
<div id="output-screen" class="container my-4 text-white" style="display: none;">
    <div class="row mb-8 mail-section">
        <div class="col-md-12">
            <h3>Send Results</h3>
            <div class="input-group bg-grey email-input-group">
                <input id="email-input" type="email" class="form-control" placeholder="Enter email">
                <div class="input-group-append">
                    <button id="send-email" class="btn btn-warning">Send</button>
                </div>
            </div>
        </div>
    </div>
    <div class="row result-section">
        <div class="col-md-4">
            <h3>Transcript</h3>
            <p id="transcript-text" class="bg-grey">[Audio transcript]</p>
        </div>
        <div class="col-md-4">
            <h3>Summary</h3>
            <p id="summary-text" class="bg-grey">[Summary of transcript]</p>
        </div>
        <div class="col-md-4">
            <h3>Insights</h3>
            <p id="insights-text" class="bg-grey">[Insights from text]</p>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>